if (self.CavalryLogger) { CavalryLogger.start_js(["gnzdM"]); }

__d('UFIReactionsStandalone.react',['React','UFIDispatcher','UFIDispatcherContext.react','UFIFeedbackContext.react','UFIReactionsLinkImpl.react','UFIReactionStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentWillMount=function(){this.$UFIReactionsStandalone1=new (c('UFIDispatcher'))();this.$UFIReactionsStandalone2={UFIReactionStore:new (c('UFIReactionStore'))(this.$UFIReactionsStandalone1)};};j.prototype.componentWillUnmount=function(){this.$UFIReactionsStandalone2={};this.$UFIReactionsStandalone1=null;};j.prototype.render=function(){return c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIReactionsStandalone1,stores:this.$UFIReactionsStandalone2},c('React').createElement(c('UFIFeedbackContext.react'),{contextArgs:this.props.contextArgs,render:function k(l,m){return c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:l,nuxConfig:l.reactionsNuxConfig,reaction:m.viewerreaction,supportedReactions:m.supportedreactions,ftIdentifier:l.ftentidentifier});}}));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoChannelEndScreen',['cx','invariant','CSS','DOM','Event','React','ReactDOM','VideoChannelProgressCircle.react','VideoChannelReplayImage.react'],(function a(b,c,d,e,f,g,h,i){function j(k,l){'use strict';this.$VideoChannelEndScreen1=c('DOM').create('div',{className:"_1szy"});this.$VideoChannelEndScreen2=c('DOM').create('div',{className:"_1szz _2se8"},this.$VideoChannelEndScreen1);this.$VideoChannelEndScreen3=l;c('Event').listen(this.$VideoChannelEndScreen1,'click',k);}j.prototype.showEndScreen=function(k,l,m){'use strict';k||i(0);c('CSS').addClass(k,"_1s-2");k.appendChild(this.$VideoChannelEndScreen2);c('ReactDOM').render(c('React').createElement(c('VideoChannelProgressCircle.react'),{makeProgress:l,onProgressDone:m,timeoutSec:j.TIMEOUT},c('React').createElement(c('VideoChannelReplayImage.react'),null)),this.$VideoChannelEndScreen1);};j.prototype.endCountdown=function(k){'use strict';k||i(0);this.$VideoChannelEndScreen3&&this.$VideoChannelEndScreen3();c('CSS').removeClass(k,"_1s-2");c('ReactDOM').unmountComponentAtNode(this.$VideoChannelEndScreen1);};j.prototype.getContainer=function(){'use strict';return this.$VideoChannelEndScreen2;};j.TIMEOUT=3;f.exports=j;}),null);
__d('CommercialBreakChannelThumbnailOverlay.react',['cx','fbt','React'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(m){'use strict';k.constructor.call(this,m);}l.prototype.render=function(){'use strict';var m=this.props.videoPlayerController&&this.props.videoPlayerController.getOption('VideoWithInstreamVideo','controller'),n=m&&m.getConfig();if(!n||n.isBroadcast)return null;return c('React').createElement('div',null,c('React').createElement('div',{className:"_27p6"},i._("Ad break in progress")));};f.exports=l;}),null);
__d('VideoChannelUpNextUnit.react',['csx','cx','DOM','Link.react','React','getElementText'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=320;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o=this.props.thumbnail,p=c('DOM').find(o,"._56dc"),q=c('DOM').find(o,"._38a4"),r=p.style.backgroundImage,s=c('getElementText')(q),t={backgroundImage:r},u=(this.props.dialogWidth-m)/2,v={marginLeft:u+'px'};return c('React').createElement(c('Link.react'),{className:"_4fxr",href:'#',onClick:this.props.onClick,style:v},c('React').createElement('div',{className:"_4fxs",style:t}),c('React').createElement('div',{className:"_4fxt"},c('React').createElement('div',{className:"_4fxu"},'Up Next:'),c('React').createElement('div',{className:"_4fxw"},s)));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={dialogWidth:l.number.isRequired,onClick:l.func.isRequired,thumbnail:l.object.isRequired};f.exports=n;}),null);
__d('VideoStripThumbnailTitleBar.react',['cx','React','TabBar.react','TabBarItem.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this,l,m);this.$VideoStripThumbnailTitleBar1=function(o){this.setState({activeChannelID:o});if(this.props.onChannelSwitch)this.props.onChannelSwitch(o);}.bind(this);var n=this.props.channelPivots[0].channelID;this.state={activeChannelID:n};}k.prototype.$VideoStripThumbnailTitleBar2=function(){'use strict';var l=[];this.props.channelPivots.forEach(function(m){var n=m.channelID,o=m.channelTitle;l.push(c('React').createElement(c('TabBarItem.react'),{key:n,className:"_31j5"+(this.state.activeChannelID===n?' '+"_31j6":'')+(this.state.activeChannelID!==n?' '+"_y6i":'')},o));}.bind(this));return l;};k.prototype.render=function(){'use strict';var l=this.$VideoStripThumbnailTitleBar2();return c('React').createElement(c('TabBar.react'),{activeTabKey:this.state.activeChannelID,onTabClick:this.$VideoStripThumbnailTitleBar1},l);};f.exports=k;}),null);
__d("XVideoChannelViewDetailsAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/channel\/view\/details\/async\/{video_id}\/",{ad_impression_token:{type:"String"},video_id:{type:"Int",required:true},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}});}),null);
__d('VideoChannelInteraction',['csx','cx','fbt','invariant','Animation','Arbiter','AsyncRequest','CommercialBreakChannelThumbnailOverlay.react','CSS','DOM','Event','FullScreen','Keys','Locale','Map','PageTransitions','PageTransitionPriorities','Parent','React','ReactDOM','StreamingReactionsTrayEvents','Style','SubscriptionsHandler','UFIRootRegistry','UFIUIEvents','URI','VideoChannelController','VideoChannelEndScreen','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerEventTargets','VideoChannelLoggerFields','VideoChannelUpNextUnit.react','VideoChannelViewVariables','VideoPermalinkURI','VideoPlayerAbortLoadingExperiment','VideoPlayerController','VideoPlayerLoggerEvent','VideoPlayerLoggerSource','VideoPlayerReason','VideoStripThumbnailCarousel.react','VideoStripThumbnailTitleBar.react','VideoWatchAndScrollController','XVideoChannelViewDetailsAsyncController','setImmediate'],(function a(b,c,d,e,f,g,h,i,j,k){var l=5000,m=175,n=45,o=80,p=24,q=35,r=c('VideoChannelViewVariables').thumbnailRedesign,s=c('VideoChannelViewVariables').dynamicAspectRatios,t=c('VideoChannelViewVariables').preopenUFI,u=c('VideoChannelViewVariables').channelRedesign,v=c('VideoChannelViewVariables').channelPivots,w=48,x={},y=16/9,z=y;function aa(ba){'use strict';this.$VideoChannelInteraction58=function(ca){if(ca.getQueryData().ref!=='channel')return false;var da=c('VideoPermalinkURI').parse(ca);if(!da)return false;var ea=null;for(var fa=this.$VideoChannelInteraction19.keys(),ga=Array.isArray(fa),ha=0,fa=ga?fa:fa[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var ia;if(ga){if(ha>=fa.length)break;ia=fa[ha++];}else{ha=fa.next();if(ha.done)break;ia=ha.value;}var ja=ia;if(ja.getVideoID()===da.video_id){ea=ja;break;}}if(!ea)return false;var ka=this.getStoryForVideoController(ea);if(!ka)return false;var la=this.getStoryIndex(ka);if(la===-1)return false;this.updateActiveStory(la,c('VideoPlayerReason').USER);c('PageTransitions').transitionComplete();return true;}.bind(this);this.$VideoChannelInteraction8=ba;this.$VideoChannelInteraction1=false;this.$VideoChannelInteraction3=0;this.$VideoChannelInteraction4=new (c('Map'))();this.$VideoChannelInteraction5=0;this.$VideoChannelInteraction6=new (c('Map'))();this.$VideoChannelInteraction15=[];this.$VideoChannelInteraction16=new (c('Map'))();this.$VideoChannelInteraction47=new (c('Map'))();this.$VideoChannelInteraction30=null;this.$VideoChannelInteraction31=[];this.$VideoChannelInteraction18=false;this.$VideoChannelInteraction28=false;this.$VideoChannelInteraction19=new (c('Map'))();this.$VideoChannelInteraction20=new (c('Map'))();this.$VideoChannelInteraction21=new (c('Map'))();this.$VideoChannelInteraction22=new (c('Map'))();this.$VideoChannelInteraction32=false;this.$VideoChannelInteraction33=false;this.$VideoChannelInteraction34=false;this.$VideoChannelInteraction40=false;this.$VideoChannelInteraction42=false;this.$VideoChannelInteraction43=[];this.$VideoChannelInteraction7=new (c('SubscriptionsHandler'))();this.$VideoChannelInteraction9=c('DOM').create('a',{href:'#',className:"_5yhq",'aria-label':j._("Next Video")});this.$VideoChannelInteraction10=c('DOM').create('a',{href:'#',className:"_5yhr",'aria-label':j._("Previous Video")});this.$VideoChannelInteraction35=new (c('VideoChannelEndScreen'))(function(){this.$VideoChannelInteraction48();this.getVideoController().play(c('VideoPlayerReason').USER);}.bind(this));this.$VideoChannelInteraction49();this.$VideoChannelInteraction7.addSubscriptions(c('Event').listen(document,'mousemove',this.$VideoChannelInteraction50.bind(this)),c('Event').listen(document,'click',this.$VideoChannelInteraction50.bind(this)),c('Event').listen(document,'keydown',this.$VideoChannelInteraction51.bind(this)),c('Event').listen(document,'keyup',this.$VideoChannelInteraction52.bind(this)),c('Event').listen(this.$VideoChannelInteraction9,'click',this.$VideoChannelInteraction53.bind(this)),c('Event').listen(this.$VideoChannelInteraction10,'click',this.$VideoChannelInteraction54.bind(this)),c('Arbiter').subscribe(c('UFIUIEvents').AutoplayLiveComments,function(ca,da){var ea=da.form,fa=v?this.$VideoChannelInteraction55():this.$VideoChannelInteraction11.children,ga=fa[this.getCurrentAbsoluteIndex()],ha=c('DOM').scry(ga,"._5--4"),ia=ha[0];if(ia==null){var ja=c('DOM').scry(ga,"._sa_");ia=ja[0];}var ka=c('DOM').scry(ea,".fbPhotosSnowliftFeedback"),la=ka[0];if(!la||!ia||!ea.contains(ia))return;new (c('Animation'))(la).to('scrollTop',ia.offsetTop).ease(c('Animation').ease.end).duration(250).go();}.bind(this)),c('Arbiter').subscribe('comment_content_change',function(ca,da){if(da.text!==undefined){this.$VideoChannelInteraction40=da.text!=='';}else if(da.addingAttachment!==undefined)this.$VideoChannelInteraction42=da.addingAttachment;this.$VideoChannelInteraction56();}.bind(this)),c('Arbiter').subscribe('video_upload_cancel',function(){this.$VideoChannelInteraction42=false;this.$VideoChannelInteraction56();}.bind(this)),c('FullScreen').subscribe('changed',function(){this.$VideoChannelInteraction56();}.bind(this)),c('Arbiter').subscribe('VideoChannelView/sidePaneToggle',function(){this.$VideoChannelInteraction57();}.bind(this)));if(ba.isPageTransitionEligible())c('PageTransitions').registerHandler(this.$VideoChannelInteraction58.bind(this),c('PageTransitionPriorities').DEFAULT+6);this.$VideoChannelInteraction59();this.$VideoChannelInteraction60();}aa.prototype.$VideoChannelInteraction60=function(){'use strict';this.$VideoChannelInteraction24=0;this.$VideoChannelInteraction25=false;this.$VideoChannelInteraction7.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(ba,ca){var da=this.getVideoController();if(da.getOption('VideoWithLiveBroadcast','isLive'))return;if(ca.type==='DialogX'||ca.type==='PhotoSnowlift'){this.$VideoChannelInteraction24=this.$VideoChannelInteraction24+1;if(this.$VideoChannelInteraction24>0)if(da.isState('playing')){da.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoChannelInteraction25=true;}this.$VideoChannelInteraction56();}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(ba,ca){var da=this.getVideoController();if(da.getOption('VideoWithLiveBroadcast','isLive'))return;if(ca.type==='DialogX'||ca.type==='PhotoSnowlift'){this.$VideoChannelInteraction24=this.$VideoChannelInteraction24-1;if(this.$VideoChannelInteraction24===0&&this.$VideoChannelInteraction25){da.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoChannelInteraction25=false;}this.$VideoChannelInteraction56();}}.bind(this)));};aa.prototype.onChannelClose=function(){'use strict';this.$VideoChannelInteraction41&&this.$VideoChannelInteraction61(this.$VideoChannelInteraction41,false);c('CSS').hide(this.$VideoChannelInteraction10);c('CSS').hide(this.$VideoChannelInteraction9);this.$VideoChannelInteraction7&&this.$VideoChannelInteraction7.release();this.$VideoChannelInteraction23&&this.$VideoChannelInteraction23.abandon();clearTimeout(this.$VideoChannelInteraction2);this.$VideoChannelInteraction48();this.$VideoChannelInteraction40=false;this.$VideoChannelInteraction42=false;c('UFIRootRegistry').cleanupSnowliftNodes();if(this.$VideoChannelInteraction8.isPageTransitionEligible())c('PageTransitions').removeHandler(this.$VideoChannelInteraction58,c('PageTransitionPriorities').DEFAULT+6);z=y;};aa.prototype.onWindowResize=function(){'use strict';if(s&&!u)this.$VideoChannelInteraction62();this.$VideoChannelInteraction59();this.$VideoChannelInteraction63();this.$VideoChannelInteraction64(0);};aa.prototype.$VideoChannelInteraction63=function(){'use strict';if(this.$VideoChannelInteraction38&&this.$VideoChannelInteraction37)if(!u){var ba=this.$VideoChannelInteraction8.getVideoHeight()*this.$VideoChannelInteraction38,ca=this.$VideoChannelInteraction8.getVideoWidth(),da=u?ca:ca-ba,ea=da/2;c('Style').set(this.$VideoChannelInteraction37,'width',this.$VideoChannelInteraction39*n+ea+'px');c('Style').set(this.$VideoChannelInteraction37,'margin-top',o+'px');}};aa.prototype.$VideoChannelInteraction59=function(){'use strict';var ba=this.$VideoChannelInteraction11,ca=false,da=0;if(u){da=w;}else{da=(this.$VideoChannelInteraction8.getAvailableWidth()-this.$VideoChannelInteraction8.getVideoWidth())/2;da+=this.$VideoChannelInteraction14?-1*m:0;}c('Style').set(ba,c('Locale').isRTL()?'right':'left',da+'px');var ea=0;if(u){ea=w;}else ea=(this.$VideoChannelInteraction8.getAvailableHeight()-this.$VideoChannelInteraction8.getVideoHeight()-(ca?o:0))/2;c('Style').set(ba,'top',ea+'px');var fa=0;if(u){if(this.$VideoChannelInteraction14){fa=this.$VideoChannelInteraction8.getAvailableWidth()-2*m-2*w;}else fa=this.$VideoChannelInteraction8.getAvailableWidth()-2*w;this.$VideoChannelInteraction8.setVideoDimensions(fa,this.$VideoChannelInteraction8.getVideoHeight(),this.$VideoChannelInteraction8.getExtraThumbnailHeight());}else fa=this.$VideoChannelInteraction8.getVideoWidth();c('Style').set(ba,'width',fa+'px');c('Style').set(ba,'height',this.$VideoChannelInteraction8.getVideoHeight()+'px');};aa.prototype.isCenterVideoActive=function(){'use strict';if(v){return this.$VideoChannelInteraction65()===0;}else return this.$VideoChannelInteraction3===0;};aa.prototype.getCurrentAbsoluteIndex=function(){'use strict';if(v){return this.$VideoChannelInteraction66();}else return this.$VideoChannelInteraction3+this.$VideoChannelInteraction5;};aa.prototype.$VideoChannelInteraction67=function(ba){'use strict';return this.$VideoChannelInteraction4.get(ba)||0;};aa.prototype.$VideoChannelInteraction68=function(){'use strict';return this.$VideoChannelInteraction67(this.$VideoChannelInteraction44);};aa.prototype.$VideoChannelInteraction65=function(){'use strict';return this.$VideoChannelInteraction67(this.$VideoChannelInteraction45);};aa.prototype.$VideoChannelInteraction69=function(ba){'use strict';return this.$VideoChannelInteraction6.get(ba)||0;};aa.prototype.$VideoChannelInteraction70=function(){'use strict';return this.$VideoChannelInteraction69(this.$VideoChannelInteraction44);};aa.prototype.$VideoChannelInteraction71=function(){'use strict';return this.$VideoChannelInteraction69(this.$VideoChannelInteraction45);};aa.prototype.$VideoChannelInteraction72=function(){'use strict';return this.$VideoChannelInteraction68()+this.$VideoChannelInteraction70();};aa.prototype.$VideoChannelInteraction66=function(){'use strict';return this.$VideoChannelInteraction65()+this.$VideoChannelInteraction71();};aa.prototype.getCurrentAbsoluteIndexForChannel=function(ba){'use strict';if(this.$VideoChannelInteraction4.has(ba)||this.$VideoChannelInteraction6.has(ba)){return this.$VideoChannelInteraction67(ba)+this.$VideoChannelInteraction69(ba);}else return -1;};aa.prototype.$VideoChannelInteraction73=function(ba){'use strict';if(v){return ba+this.$VideoChannelInteraction70();}else return ba+this.$VideoChannelInteraction5;};aa.prototype.$VideoChannelInteraction74=function(ba){'use strict';return ba-this.$VideoChannelInteraction5;};aa.prototype.$VideoChannelInteraction75=function(ba,ca){'use strict';return ba-this.$VideoChannelInteraction69(ca);};aa.prototype.$VideoChannelInteraction76=function(){'use strict';return this.$VideoChannelInteraction8.getDialog();};aa.prototype.$VideoChannelInteraction77=function(){'use strict';return this.$VideoChannelInteraction8.getDialogContent();};aa.appendChannels=function(ba){'use strict';var ca=aa.getInteraction();if(!ca)return;ca.appendChannels(ba);};aa.prototype.appendChannels=function(ba){'use strict';var ca=JSON.parse(ba);if(ca&&ca.length){ca.forEach(function(ga){if(this.$VideoChannelInteraction8&&ga.channelID&&!this.$VideoChannelInteraction8.getStoryFetcherMap().has(ga.channelID)){this.$VideoChannelInteraction8.setupStoryFetcherForChannel(ga.channelID);this.$VideoChannelInteraction43.push(ga);}}.bind(this));var da={};da[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').APPEND_CHANNEL_PIVOTS;c('VideoChannelLogger').log(da);}var ea=c('DOM').scry(this.$VideoChannelInteraction76().getInnerContent(),"._q_y"),fa=c('DOM').create('div',{className:"_q_y"});c('ReactDOM').render(c('React').createElement(c('VideoStripThumbnailTitleBar.react'),{channelPivots:this.$VideoChannelInteraction43,onChannelSwitch:this.$VideoChannelInteraction78.bind(this)}),fa);c('DOM').replace(ea[0],fa);this.$VideoChannelInteraction64(0);};aa.prototype.setTitle=function(ba,ca,da){'use strict';if(v){this.$VideoChannelInteraction43=JSON.parse(da);if(this.$VideoChannelInteraction43&&this.$VideoChannelInteraction43.length>0){this.$VideoChannelInteraction44=this.$VideoChannelInteraction43[0].channelID;this.$VideoChannelInteraction45=this.$VideoChannelInteraction43[0].channelID;}}if(!r)if(v){var ea=c('DOM').create('div',{className:"_q_y"});c('ReactDOM').render(c('React').createElement(c('VideoStripThumbnailTitleBar.react'),{channelPivots:this.$VideoChannelInteraction43,onChannelSwitch:this.$VideoChannelInteraction78.bind(this)}),ea);c('DOM').replace(this.$VideoChannelInteraction13,ea);}else c('DOM').setContent(this.$VideoChannelInteraction13,ba);if(ca){var fa=this.$VideoChannelInteraction79(),ga=fa.currentStory,ha=fa.currentThumbnail;ga||k(0);ha||k(0);this.setFirstStory(ga,ha,true,true);}};aa.prototype.$VideoChannelInteraction80=function(){'use strict';var ba=this.$VideoChannelInteraction16.get(this.$VideoChannelInteraction44);if(ba&&ba[0]){var ca=this.getCurrentAbsoluteIndexForChannel(this.$VideoChannelInteraction44)===-1&&this.$VideoChannelInteraction44!==this.$VideoChannelInteraction45;c('CSS').conditionClass(ba[0],"_4lyy",ca);for(var da=0;da<ba.length;da++){var ea=ba[da].dataset.storyId===this.$VideoChannelInteraction46.id&&this.$VideoChannelInteraction45===this.$VideoChannelInteraction44,fa=this.$VideoChannelInteraction45!==this.$VideoChannelInteraction44&&this.getCurrentAbsoluteIndexForChannel(this.$VideoChannelInteraction44)===da;c('CSS').conditionClass(ba[da],"_57j4",ea);var ga=ba[da].dataset.storyId,ha=this.$VideoChannelInteraction20.get(ga),ia=0;if(!ea&&ha){var ja=ha.getCurrentTimePosition(),ka=ha.getPlaybackDuration();if(ja&&ka)ia=Math.floor(ja*100/ka);}var la=c('DOM').scry(ba[da],"._2r8f");if(la&&la.length){var ma=la[0];if(ia&&!ea){var na=ma.children[0];if(na)na.setAttribute('style','width: '+ia+'%;');}c('CSS').conditionShow(ma,ia&&!ea);}if(da<ba.length-1)c('CSS').conditionClass(ba[da+1],"_4lyy",ea||fa);}}};aa.prototype.$VideoChannelInteraction78=function(ba){'use strict';this.$VideoChannelInteraction44=ba;this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').WWW_CHANNEL_PIVOT);var ca=this.$VideoChannelInteraction82().length,da=this.$VideoChannelInteraction72();if(da>=ca-2&&this.$VideoChannelInteraction8)this.$VideoChannelInteraction8.fetchStoriesForChannel(ba,function(ea,fa){this.appendStories(ea,fa);}.bind(this),function(ea){this.showThumbnailPlaceholders(ea,true);}.bind(this));this.$VideoChannelInteraction64(0);this.$VideoChannelInteraction80();};aa.prototype.$VideoChannelInteraction79=function(){'use strict';var ba=this.$VideoChannelInteraction8.getStoryFetcher(),ca=ba.getPreloadedData(),da=ca.stories,ea=ca.thumbnails;da=da||[];ea=ea||[];var fa=this.$VideoChannelInteraction8.getWnsChannelVideoIndex();if(fa===0)return {currentStory:null,currentThumbnail:null,prependStories:[],prependThumbnails:[],appendStories:da,appendThumbnails:ea};fa--;return {currentStory:da[fa],currentThumbnail:ea[fa],prependStories:da.slice(0,fa),prependThumbnails:ea.slice(0,fa),appendStories:da.slice(fa+1),appendThumbnails:ea.slice(fa+1)};};aa.prototype.$VideoChannelInteraction83=function(ba){'use strict';var ca={};ca[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;ca[c('VideoChannelLoggerFields').STORY_ID]=ba.getAttribute('data-story-id');if(v)c('VideoChannelLogger').setChannel(ba.dataset.channelId);c('VideoChannelLogger').log(ca);};aa.prototype.$VideoChannelInteraction84=function(ba,ca){'use strict';this.$VideoChannelInteraction20.forEach(function(da,ea,fa){if(ea!==ba&&da.isState('playing'))da.pause(c('VideoPlayerReason').USER);});c('VideoChannelLogger').setChannel(ca);};aa.prototype.$VideoChannelInteraction85=function(ba,ca){'use strict';if(v){var da=this.$VideoChannelInteraction46.id!==ca.id;this.$VideoChannelInteraction84(ca.id,ca.dataset.channelId);this.$VideoChannelInteraction45=this.$VideoChannelInteraction44;if(da){c('CSS').removeClass(this.$VideoChannelInteraction46,"_1kfp");this.updateActiveStory(this.$VideoChannelInteraction73(ba),c('VideoPlayerReason').USER,da);}}else this.updateActiveStory(this.$VideoChannelInteraction73(ba),c('VideoPlayerReason').USER);};aa.prototype.$VideoChannelInteraction86=function(ba){'use strict';var ca=void 0,da=void 0;if(v){ca=this.$VideoChannelInteraction72(ba);var ea=this.$VideoChannelInteraction82();if(ea)da=this.getVideoControllerForStory(ea[ca]);}else{ca=this.$VideoChannelInteraction73(ba);da=this.getVideoControllerForStory(this.$VideoChannelInteraction11.children[ca]);}if(da&&da.hasOption('VideoWithImmediateAbortLoading','isWithImmediateAbortLoading'))da.preload();};aa.prototype.$VideoChannelInteraction81=function(ba){'use strict';var ca={};ca[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;ca[c('VideoChannelLoggerFields').EVENT_TARGET]=ba;c('VideoChannelLogger').log(ca);};aa.prototype.$VideoChannelInteraction53=function(event){'use strict';this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').NEXT_ARROW);this.$VideoChannelInteraction87();this.$VideoChannelInteraction50();event.stopPropagation();event.preventDefault();};aa.prototype.$VideoChannelInteraction55=function(){'use strict';return this.$VideoChannelInteraction88(this.$VideoChannelInteraction45);};aa.prototype.$VideoChannelInteraction82=function(){'use strict';return this.$VideoChannelInteraction88(this.$VideoChannelInteraction44);};aa.prototype.$VideoChannelInteraction88=function(ba){'use strict';var ca=Array.from(this.$VideoChannelInteraction11.children).filter(function(da){return da.dataset.channelId===ba;});return ca;};aa.prototype.$VideoChannelInteraction87=function(){'use strict';if(v){var ba=this.getCurrentAbsoluteIndexForChannel(this.$VideoChannelInteraction44);if(ba===-1&&this.$VideoChannelInteraction45===this.$VideoChannelInteraction44)ba=0;var ca=this.$VideoChannelInteraction82();if(ca.length>0){this.$VideoChannelInteraction45=this.$VideoChannelInteraction44;}else{ba=this.getCurrentAbsoluteIndexForChannel(this.$VideoChannelInteraction45);ca=this.$VideoChannelInteraction55();}if(ba<ca.length-1){c('CSS').removeClass(this.$VideoChannelInteraction46,"_1kfp");this.updateActiveStory(ba+1,c('VideoPlayerReason').AUTOPLAY,true);this.$VideoChannelInteraction80();return true;}return false;}else{var da=this.getCurrentAbsoluteIndex();if(da<this.$VideoChannelInteraction11.children.length-1){this.updateActiveStory(da+1,c('VideoPlayerReason').AUTOPLAY);return true;}return false;}};aa.prototype.$VideoChannelInteraction54=function(event){'use strict';this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').PREVIOUS_ARROW);this.$VideoChannelInteraction89();this.$VideoChannelInteraction50();event.stopPropagation();event.preventDefault();};aa.prototype.$VideoChannelInteraction89=function(){'use strict';if(v){this.$VideoChannelInteraction45=this.$VideoChannelInteraction44;var ba=this.getCurrentAbsoluteIndex();if(ba>=1){c('CSS').removeClass(this.$VideoChannelInteraction46,"_1kfp");this.updateActiveStory(ba-1,c('VideoPlayerReason').AUTOPLAY,true);this.$VideoChannelInteraction80();return true;}return false;}else{var ca=this.getCurrentAbsoluteIndex();if(ca>=1){this.updateActiveStory(ca-1,c('VideoPlayerReason').AUTOPLAY);return true;}return false;}};aa.prototype.updateActiveStory=function(ba,ca,da){'use strict';var ea=this.getCurrentAbsoluteIndex();if(v){if(ea===ba&&!da)return;}else if(ea===ba)return;var fa=v?this.$VideoChannelInteraction55():this.$VideoChannelInteraction11.children,ga=this.getVideoControllerForStory(fa[ea]),ha=ga&&ga.isMuted();if(ga&&!ga.isState('finished')){ga.pause(c('VideoPlayerReason').USER);if(c('VideoPlayerAbortLoadingExperiment').canAbort)ga.abortLoading();}var ia=fa[ba],ja=this.getVideoControllerForStory(ia);this.$VideoChannelInteraction84(ia.id,ia.dataset.channelId);if(ja){c('Arbiter').inform('VideoChannelView/activeStoryChanged',{id:ja.getVideoID()});if(ja.isAd()){c('Arbiter').inform('WebVideoChannelAds/AdsLoaded');ca=c('VideoPlayerReason').AUTOPLAY;}if(ha&&!ja.isMuted()){ja.mute();}else if(!ha&&ja.isMuted())ja.unmute();ja.play(ca);}var ka=null;if(fa.length>ba+1){ka=this.getVideoControllerForStory(fa[ba+1]);if(ka)ka.preload();}if(v){var la=this.$VideoChannelInteraction75(ba,this.$VideoChannelInteraction45);c('VideoChannelLogger').setPosition(la);this.$VideoChannelInteraction4.set(this.$VideoChannelInteraction45,la);}else{this.$VideoChannelInteraction3=this.$VideoChannelInteraction74(ba);c('VideoChannelLogger').setPosition(this.$VideoChannelInteraction3);}if(ja&&ja.getVideoPath()&&this.$VideoChannelInteraction8.isPageTransitionEligible()&&!c('PageTransitions').isTransitioning())ja.runOnceOnApiEventLogged(c('VideoPlayerLoggerEvent').STARTED_PLAYING,function(){c('PageTransitions').go(new (c('URI'))(ja.getVideoPath()).addQueryData('ref','channel'));});if(!ia.getAttribute('channel-vpv-logged')){var ma={};ia.setAttribute('channel-vpv-logged','1');ma[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').VPV;ma[c('VideoChannelLoggerFields').STORY_ID]=ia.getAttribute('data-story-id');ma[c('VideoChannelLoggerFields').IS_AD]=ja?ja.isAd():false;if(v)c('VideoChannelLogger').setChannel(ia.dataset.channelId);c('VideoChannelLogger').log(ma);}this.$VideoChannelInteraction40=false;this.$VideoChannelInteraction42=false;this.$VideoChannelInteraction61(ia,true);this.$VideoChannelInteraction90();};aa.prototype.$VideoChannelInteraction90=function(){'use strict';var ba=this.$VideoChannelInteraction11,ca=this.getCurrentAbsoluteIndex(),da=Array.from(this.$VideoChannelInteraction11.children).filter(function(na){return na.dataset.channelId===this.$VideoChannelInteraction45;}.bind(this));if(ca>0){c('CSS').show(this.$VideoChannelInteraction10);}else c('CSS').hide(this.$VideoChannelInteraction10);if(v){for(var ea=0;ea<da.length;ea++){var fa=ea===ca;c('CSS').conditionClass(da[ea],"_1kfp",fa);}this.$VideoChannelInteraction29=c('DOM').find(da[ca],"._21mb");this.$VideoChannelInteraction46=da[ca];this.$VideoChannelInteraction80();}else{for(var ga=0;ga<ba.children.length;ga++){var ha=ga===ca,ia=ga===ca+1;c('CSS').conditionClass(ba.children[ga],"_1kfp",ha);c('CSS').conditionClass(this.$VideoChannelInteraction15[ga],"_57j4",ha);c('CSS').conditionClass(this.$VideoChannelInteraction15[ga],"_4lyy",ia);}this.$VideoChannelInteraction29=c('DOM').find(ba.children[ca],"._21mb");}this.$VideoChannelInteraction29.insertBefore(this.$VideoChannelInteraction10,this.$VideoChannelInteraction29.firstChild);this.$VideoChannelInteraction29.appendChild(this.$VideoChannelInteraction9);if(s&&!u)this.$VideoChannelInteraction62();if(v){if(ca<da.length-1||this.$VideoChannelInteraction8.hasNextForChannel(this.$VideoChannelInteraction45)){c('CSS').show(this.$VideoChannelInteraction9);}else c('CSS').hide(this.$VideoChannelInteraction9);}else if(ca<ba.children.length-1||this.$VideoChannelInteraction8.hasNext()){c('CSS').show(this.$VideoChannelInteraction9);}else c('CSS').hide(this.$VideoChannelInteraction9);this.$VideoChannelInteraction64(0);var ja=this.$VideoChannelInteraction8.getStoryFetcher(),ka=ja?ja.getPreloadedData():{stories:[]},la=ka.stories,ma=this.$VideoChannelInteraction8.isCameFromVidewViewCarousel();if(v){if(ca>=la.length-2&&this.$VideoChannelInteraction8.hasNextForChannel(this.$VideoChannelInteraction44)){this.$VideoChannelInteraction91();}else if(ca===0&&(la.length===0||ma))this.$VideoChannelInteraction8.fetchStories(false,function(na,oa){this.prependStories(na,oa);}.bind(this),function(na){this.showThumbnailPlaceholders(na,false);}.bind(this));}else if(ca>=ba.children.length-2&&this.$VideoChannelInteraction8.hasNext()){this.$VideoChannelInteraction91();}else if(ca===0&&(la.length===0||ma))this.$VideoChannelInteraction8.fetchStories(false,function(na,oa){this.prependStories(na,oa);}.bind(this),function(na){this.showThumbnailPlaceholders(na,false);}.bind(this));if(this.$VideoChannelInteraction14)if(v){this.$VideoChannelInteraction92(da[ca],this.getVideoController().getVideoID(),this.getVideoController().getAdClientToken());}else this.$VideoChannelInteraction92(this.$VideoChannelInteraction11.children[ca],this.getVideoController().getVideoID(),this.getVideoController().getAdClientToken());this.$VideoChannelInteraction8.getViewportTracker().fireTimer();this.$VideoChannelInteraction8.getViewportTracker().updateTimeTrackingData(false,'scroll');};aa.prototype.$VideoChannelInteraction62=function(){'use strict';if(!this.$VideoChannelInteraction20.size)return;var ba=x[this.getVideoController().getVideoID()]||this.$VideoChannelInteraction8.getOriginalAspectRatio()||y;z=ba;var ca=this.$VideoChannelInteraction8.getAvailableVideoHeight(),da=this.$VideoChannelInteraction8.getAvailableVideoWidth(),ea=0,fa=0;if(z*ca>da){fa=da;ea=da/z;}else{ea=ca;fa=ca*z;}this.$VideoChannelInteraction8.setVideoDimensions(fa,ea,this.$VideoChannelInteraction8.getExtraThumbnailHeight());this.$VideoChannelInteraction59();this.$VideoChannelInteraction63();this.$VideoChannelInteraction93(fa);};aa.prototype.$VideoChannelInteraction93=function(ba){'use strict';var ca=Array.from(this.$VideoChannelInteraction11.children).filter(function(ga){return ga.dataset.channelId===this.$VideoChannelInteraction45;}.bind(this)),da=c('DOM').find(v?ca[this.getCurrentAbsoluteIndex()]:this.$VideoChannelInteraction11.children[this.getCurrentAbsoluteIndex()],"._5pw_"),ea=c('DOM').find(v?ca[this.getCurrentAbsoluteIndex()]:this.$VideoChannelInteraction11.children[this.getCurrentAbsoluteIndex()],"._5px1"),fa="_337o";c('CSS').conditionClass(da,fa,ba<=q+da.clientWidth+ea.clientWidth);};aa.prototype.showThumbnailPlaceholders=function(ba,ca){'use strict';var da=ca?0:ba;this.$VideoChannelInteraction64(da);};aa.prototype.$VideoChannelInteraction50=function(){'use strict';this.$VideoChannelInteraction94();this.$VideoChannelInteraction2=setTimeout(this.$VideoChannelInteraction95.bind(this),l);};aa.prototype.$VideoChannelInteraction52=function(ba){'use strict';if(ba.keyCode===c('Keys').RIGHT){this.$VideoChannelInteraction33=false;}else if(ba.keyCode===c('Keys').LEFT)this.$VideoChannelInteraction34=false;};aa.prototype.$VideoChannelInteraction51=function(ba){'use strict';this.$VideoChannelInteraction94();this.$VideoChannelInteraction2=setTimeout(this.$VideoChannelInteraction95.bind(this),l);var ca=c('CSS').matchesSelector(ba.target,"._gn2"),da=this.$VideoChannelInteraction14&&(c('CSS').matchesSelector(ba.target,"._5rpu")||c('CSS').hasClass(ba.target,'UFIAddCommentInput')),ea=c('CSS').matchesSelector(ba.target,"._iuw");if(ca||da||ea||this.$VideoChannelInteraction24>0||this.getVideoController().isFullscreen())return;if(ba.keyCode===c('Keys').RIGHT&&!this.$VideoChannelInteraction33){this.$VideoChannelInteraction33=true;this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').NEXT_ARROW_KEY);this.$VideoChannelInteraction87();event.preventDefault();}else if(ba.keyCode===c('Keys').LEFT&&!this.$VideoChannelInteraction34){this.$VideoChannelInteraction34=true;this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').PREVIOUS_ARROW_KEY);this.$VideoChannelInteraction89();event.preventDefault();}else if(ba.keyCode===c('Keys').SPACE){var fa=this.getVideoController();if(fa.isState('playing')){fa.pause(c('VideoPlayerReason').USER);}else if(fa.isState('paused')||fa.isState('finished')||fa.isState('ready'))fa.play(c('VideoPlayerReason').USER);}};aa.prototype.$VideoChannelInteraction95=function(){'use strict';if(!this.getVideoController().isState('playing'))return;if(!this.$VideoChannelInteraction1&&c('VideoChannelViewVariables').dark_mode){this.$VideoChannelInteraction1=true;c('CSS').addClass(this.$VideoChannelInteraction76().getRoot(),"_1kf_");}};aa.prototype.$VideoChannelInteraction94=function(){'use strict';clearTimeout(this.$VideoChannelInteraction2);if(this.$VideoChannelInteraction1){this.$VideoChannelInteraction1=false;c('CSS').removeClass(this.$VideoChannelInteraction76().getRoot(),"_1kf_");}};aa.prototype.$VideoChannelInteraction49=function(){'use strict';var ba=this.$VideoChannelInteraction77();this.$VideoChannelInteraction11=c('DOM').create('div',{className:"_1kfk"});c('DOM').appendContent(ba,this.$VideoChannelInteraction11);this.$VideoChannelInteraction26=c('DOM').create('div');c('ReactDOM').render(c('React').createElement('div',{className:r?"_4hvx":''},c('React').createElement('div',{className:"_r7b"},c('React').createElement('div',{className:"_5g7c"}),c('React').createElement('div',{className:"_r7d"})),c('React').createElement('div',{className:"_1sz-"})),this.$VideoChannelInteraction26);c('DOM').appendContent(ba,this.$VideoChannelInteraction26);this.$VideoChannelInteraction13=c('DOM').find(this.$VideoChannelInteraction76().getInnerContent(),"._5g7c");this.$VideoChannelInteraction12=c('DOM').find(this.$VideoChannelInteraction76().getInnerContent(),"._r7d");this.$VideoChannelInteraction27=c('DOM').find(this.$VideoChannelInteraction26,"._1sz-");};aa.prototype.$VideoChannelInteraction96=function(){'use strict';this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').UP_NEXT);this.$VideoChannelInteraction87();};aa.prototype.$VideoChannelInteraction97=function(ba){'use strict';var ca=this.getCurrentAbsoluteIndex(),da=this.$VideoChannelInteraction98();if(!this.$VideoChannelInteraction18&&da.length>ca+1&&ba===this.getVideoController()){var ea=da[ca+1];if(ea){c('ReactDOM').render(c('React').createElement(c('VideoChannelUpNextUnit.react'),{dialogWidth:this.$VideoChannelInteraction8.getAvailableWidth(),onClick:this.$VideoChannelInteraction96.bind(this),thumbnail:ea}),this.$VideoChannelInteraction27);c('CSS').addClass(this.$VideoChannelInteraction26,"_1sz_");this.$VideoChannelInteraction28=true;}}};aa.prototype.$VideoChannelInteraction98=function(){'use strict';var ba=[];if(v){ba=this.$VideoChannelInteraction16.get(this.$VideoChannelInteraction44);ba=ba?ba.slice(0):[];}else ba=this.$VideoChannelInteraction15;return ba;};aa.prototype.$VideoChannelInteraction99=function(){'use strict';var ba=this.$VideoChannelInteraction98(),ca=this.getCurrentAbsoluteIndex();return ca<ba.length?ba[ca]:null;};aa.prototype.$VideoChannelInteraction100=function(ba){'use strict';var ca=this.$VideoChannelInteraction99();if(ca){var da=c('DOM').find(ca,"._voo");if(ba){c('CSS').removeClass(da,"_4mzo");}else c('CSS').addClass(da,"_4mzo");}};aa.prototype.$VideoChannelInteraction101=function(){'use strict';c('CSS').removeClass(this.$VideoChannelInteraction26,"_1sz_");this.$VideoChannelInteraction28=false;};aa.prototype.$VideoChannelInteraction102=function(ba){'use strict';this.$VideoChannelInteraction7.addSubscriptions(ba.addListener('updateStatus',function(ca){if(ca.position!==undefined){var da=ba.getPlaybackDuration();if(da&&da-ca.position<5&&ba===this.getVideoController()){if(!this.$VideoChannelInteraction28)this.$VideoChannelInteraction97(ba);}else this.$VideoChannelInteraction101();}}.bind(this)));};aa.prototype.$VideoChannelInteraction103=function(ba){'use strict';this.$VideoChannelInteraction7.addSubscriptions(ba.addListener('beginPlayback',this.$VideoChannelInteraction48.bind(this)),ba.addListener('finishPlayback',function(){var ca=this.$VideoChannelInteraction8.isOpen()&&!ba.isFullscreen()&&ba===this.getVideoController();if(ca)this.$VideoChannelInteraction56();}.bind(this)));};aa.prototype.$VideoChannelInteraction56=function(){'use strict';var ba=this.getVideoController();if(ba.isState('finished')){var ca=this.getCurrentAbsoluteIndex(),da=ca===this.$VideoChannelInteraction11.children.length-1,ea=this.$VideoChannelInteraction40||this.$VideoChannelInteraction42,fa=ba.getOption('VideoWithLiveBroadcast','isLive'),ga=true;if(c('VideoChannelViewVariables').autoplaySettingDisabled||da||!r&&(!t||ea)&&this.$VideoChannelInteraction14||this.$VideoChannelInteraction32||this.$VideoChannelInteraction24!=0||fa)ga=false;if(ba.getOption('VideoLiveEndscreen','enabled')){if(ga)this.$VideoChannelInteraction36=setTimeout(this.$VideoChannelInteraction104.bind(this),c('VideoChannelEndScreen').TIMEOUT*1000);return;}this.$VideoChannelInteraction105(ga);}};aa.prototype.$VideoChannelInteraction105=function(ba){'use strict';this.$VideoChannelInteraction94();this.$VideoChannelInteraction35.showEndScreen(this.$VideoChannelInteraction29,ba,this.$VideoChannelInteraction104.bind(this));};aa.prototype.$VideoChannelInteraction48=function(){'use strict';if(this.$VideoChannelInteraction36){clearTimeout(this.$VideoChannelInteraction36);this.$VideoChannelInteraction36=null;}this.$VideoChannelInteraction35.endCountdown(this.$VideoChannelInteraction29);};aa.prototype.$VideoChannelInteraction104=function(){'use strict';if(this.getVideoController().isState('finished')){this.$VideoChannelInteraction48();if(this.$VideoChannelInteraction87()){var ba={};ba[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').AUTO_ADVANCE;ba[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=this.getCurrentAbsoluteIndex()-1;if(v){var ca=this.$VideoChannelInteraction66();if(ca>0)ca--;ba[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=ca;c('VideoChannelLogger').setChannel(this.$VideoChannelInteraction45);}c('VideoChannelLogger').log(ba);}}};aa.prototype.$VideoChannelInteraction106=function(){'use strict';return this.$VideoChannelInteraction47.get(this.$VideoChannelInteraction44)||0;};aa.prototype.$VideoChannelInteraction107=function(ba){'use strict';this.$VideoChannelInteraction47.set(this.$VideoChannelInteraction44,ba);};aa.prototype.$VideoChannelInteraction64=function(ba){'use strict';var ca=this.$VideoChannelInteraction8.getAvailableWidth();if(r)ca-=p;var da=[];if(v){da=this.$VideoChannelInteraction16.get(this.$VideoChannelInteraction44);da=da?da.slice(0):[];}else da=this.$VideoChannelInteraction15.slice(0);if(da.length===1&&this.$VideoChannelInteraction18||da.length>1&&!this.$VideoChannelInteraction18)this.$VideoChannelInteraction108();var ea=v?this.$VideoChannelInteraction72():this.getCurrentAbsoluteIndex();if(v){c('ReactDOM').render(c('React').createElement(c('VideoStripThumbnailCarousel.react'),{dialogWidth:ca,extraThumbnailHeight:this.$VideoChannelInteraction8.getExtraThumbnailHeight(),pendingPreviousThumbnails:ba,thumbnails:da,index:ea,hasNext:this.$VideoChannelInteraction8.hasNextForChannel(this.$VideoChannelInteraction44),loadNextItems:this.$VideoChannelInteraction91.bind(this),onAllItemsLoaded:this.$VideoChannelInteraction109.bind(this),pageNumber:this.$VideoChannelInteraction106(),updatePageNumber:this.$VideoChannelInteraction107.bind(this)}),this.$VideoChannelInteraction12);}else c('ReactDOM').render(c('React').createElement(c('VideoStripThumbnailCarousel.react'),{dialogWidth:ca,extraThumbnailHeight:this.$VideoChannelInteraction8.getExtraThumbnailHeight(),pendingPreviousThumbnails:ba,thumbnails:da,index:ea,hasNext:this.$VideoChannelInteraction8.hasNext(),loadNextItems:this.$VideoChannelInteraction91.bind(this),onAllItemsLoaded:this.$VideoChannelInteraction109.bind(this)}),this.$VideoChannelInteraction12);};aa.prototype.$VideoChannelInteraction91=function(){'use strict';if(v){this.$VideoChannelInteraction8.fetchStoriesForChannel(this.$VideoChannelInteraction44,function(ba,ca){this.appendStories(ba,ca);}.bind(this));}else this.$VideoChannelInteraction8.fetchStories(true,function(ba,ca){this.appendStories(ba,ca);}.bind(this));};aa.prototype.$VideoChannelInteraction109=function(){'use strict';this.getVideoController().emit('VideoChannelController/chainedStoriesLoaded');};aa.prototype.getVideoController=function(){'use strict';var ba=v?this.$VideoChannelInteraction55()[this.getCurrentAbsoluteIndex()]:this.$VideoChannelInteraction11.children[this.getCurrentAbsoluteIndex()],ca=this.getVideoControllerForStory(ba);ca||k(0);return ca;};aa.prototype.$VideoChannelInteraction110=function(ba,ca,da){'use strict';if(v)ca.dataset.storyId=ba.id;var ea=void 0,fa=this.$VideoChannelInteraction16.get(ca.dataset.channelId);if(!fa)fa=[];var ga=void 0;if(v){ga=this.$VideoChannelInteraction69(ca.dataset.channelId);}else ga=this.$VideoChannelInteraction70();if(!da){if(v){ga++;this.$VideoChannelInteraction6.set(ca.dataset.channelId,ga);ea=-ga;fa.unshift(ca);this.$VideoChannelInteraction16.set(ca.dataset.channelId,fa);}else{this.$VideoChannelInteraction5++;ea=-this.$VideoChannelInteraction5;this.$VideoChannelInteraction15.unshift(ca);}this.$VideoChannelInteraction11.insertBefore(ba,this.$VideoChannelInteraction11.childNodes[0]);}else if(v){var ha=this.$VideoChannelInteraction88(ca.dataset.channelId);ea=ha.length-ga;this.$VideoChannelInteraction11.appendChild(ba);fa.push(ca);this.$VideoChannelInteraction16.set(ca.dataset.channelId,fa);}else{ea=this.$VideoChannelInteraction11.children.length-this.$VideoChannelInteraction5;this.$VideoChannelInteraction11.appendChild(ba);this.$VideoChannelInteraction15.push(ca);}this.$VideoChannelInteraction7.addSubscriptions(c('Event').listen(ba,'click',this.$VideoChannelInteraction83.bind(this,ba)),c('Event').listen(ca,'click',function(ja,ka,event){if(c('Parent').bySelector(event.target,"._4hvy"))return;if(this.$VideoChannelInteraction18){this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').THUMBNAIL);this.$VideoChannelInteraction85(ja,ka);event.preventDefault();}}.bind(this,ea,ba)),c('Event').listen(ca,'mouseover',function(ja,event){if(this.$VideoChannelInteraction18){this.$VideoChannelInteraction86(ja);event.preventDefault();}}.bind(this,ea)));if(!this.$VideoChannelInteraction20.has(ba.id)){var ia=this.$VideoChannelInteraction8.findVideoControllerForStory(ba);if(ia){this.$VideoChannelInteraction19.set(ia,ba);this.$VideoChannelInteraction20.set(ba.id,ia);}}this.$VideoChannelInteraction8.getViewportTracker().invalidateAllStoriesCache();};aa.prototype.$VideoChannelInteraction111=function(){'use strict';for(var ba=0;ba<this.$VideoChannelInteraction31.length;ba++){var ca=this.$VideoChannelInteraction31[ba];c('Style').set(ca,'opacity','');}this.$VideoChannelInteraction30=null;this.$VideoChannelInteraction31=[];this.getVideoController().emit('VideoChannelController/pendingElementsShown',{});};aa.prototype.$VideoChannelInteraction112=function(ba){'use strict';if(!this.$VideoChannelInteraction30)this.$VideoChannelInteraction30=c('setImmediate')(this.$VideoChannelInteraction111.bind(this));this.$VideoChannelInteraction31.push(ba);c('Style').set(ba,'opacity',0);};aa.prototype.shouldShowSidePanelOnLoad=function(){'use strict';var ba=this.getVideoController(),ca=ba.getOption('VideoWithLiveBroadcast','isLive'),da=ba.getOption('VideoWithVODBroadcast','isLiveVOD'),ea=ba.getOption('FeedAutoplay','shouldOpenSidePaneInChannelView');return r||ca||da||ea||t;};aa.prototype.$VideoChannelInteraction61=function(ba,ca){'use strict';if(!s||u)return;var da=c('DOM').scry(ba,"._4lqt"),ea=c('DOM').scry(ba,"._3t0x");if(da.length>=2&&ea.length>0)da.forEach(function(fa){c('CSS').conditionShow(fa,c('CSS').matchesSelector(fa,"._3t0x")==ca);});};aa.prototype.setFirstStory=function(ba,ca,da,ea){'use strict';if(!u)this.$VideoChannelInteraction112(c('DOM').find(ba,"._23if"));this.$VideoChannelInteraction112(c('DOM').find(ba,"._23ig"));if(!da){var fa=this.$VideoChannelInteraction8.getWNSRootVideoPlayerController(),ga=c('DOM').find(ba,"._1kg0");fa||k(0);var ha=fa.getRootNode();this.$VideoChannelInteraction41=ha;c('DOM').replace(ga,ha);this.$VideoChannelInteraction110(ba,ca,false);this.$VideoChannelInteraction90();this.registerVideoController(fa);return;}this.$VideoChannelInteraction110(ba,ca,true);this.$VideoChannelInteraction90();if(v)this.$VideoChannelInteraction16.set(this.$VideoChannelInteraction44,[ca]);var ia=this.$VideoChannelInteraction8.getOriginalVideoPlayerController();if(!ia)setTimeout(function(){if(this.shouldShowSidePanelOnLoad())this.$VideoChannelInteraction113();}.bind(this));if(ia){var ja=this.$VideoChannelInteraction79(),ka=ja.prependStories,la=ja.prependThumbnails,ma=ja.appendStories,na=ja.appendThumbnails;if(!ea){var oa=c('DOM').find(ba,"._1kg0"),pa=ia.getRootNode();this.$VideoChannelInteraction41=pa;c('DOM').replace(oa,pa);}else{var qa=c('DOM').scry(ba,"._5v-_");if(qa.length===1&&qa[0].childNodes.length===0)qa[0].appendChild(ia.getRootNode());}ia.setDimensions(this.$VideoChannelInteraction8.getVideoWidth(),this.$VideoChannelInteraction8.getVideoHeight());if(!ia.isState('paused'))ia.play(c('VideoPlayerReason').USER);this.$VideoChannelInteraction102(ia);this.$VideoChannelInteraction103(ia);this.$VideoChannelInteraction19.set(ia,ba);this.$VideoChannelInteraction20.set(ba.id,ia);if(this.shouldShowSidePanelOnLoad())this.$VideoChannelInteraction113();this.prependStories(ka,la);this.appendStories(ma,na);this.$VideoChannelInteraction8.registerWNSVideoControllers();this.$VideoChannelInteraction8.registerChannelInteractionsFromWNS();if(ia.getVideoPath()&&this.$VideoChannelInteraction8.isPageTransitionEligible())ia.runOnceOnApiEventLogged(c('VideoPlayerLoggerEvent').STARTED_PLAYING,function(){c('PageTransitions').go(new (c('URI'))(ia.getVideoPath()).addQueryData('ref','channel'));});}this.$VideoChannelInteraction8.hideLoadingState();this.$VideoChannelInteraction108();this.$VideoChannelInteraction61(ba,true);this.$VideoChannelInteraction90();};aa.prototype.appendStories=function(ba,ca){'use strict';for(var da=0;da<ba.length;da++){var ea=ba[da],fa=ca[da];this.$VideoChannelInteraction112(c('DOM').find(ea,"._21mb"));this.$VideoChannelInteraction112(fa);this.$VideoChannelInteraction110(ea,fa,true);}this.$VideoChannelInteraction90();if(v)if(this.$VideoChannelInteraction45===this.$VideoChannelInteraction44)this.$VideoChannelInteraction64(0);};aa.prototype.prependStories=function(ba,ca){'use strict';ba=ba.reverse();ca=ca.reverse();for(var da=0;da<ba.length;da++)this.$VideoChannelInteraction110(ba[da],ca[da],false);this.$VideoChannelInteraction90();};aa.prototype.$VideoChannelInteraction113=function(event){'use strict';var ba=this.$VideoChannelInteraction76().getRoot();this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').SHOW_SIDE_PANE);event&&event.preventDefault();if(this.$VideoChannelInteraction14)return;this.$VideoChannelInteraction14=true;var ca=this.$VideoChannelInteraction55();this.$VideoChannelInteraction92(v?ca[this.getCurrentAbsoluteIndex()]:this.$VideoChannelInteraction11.children[this.getCurrentAbsoluteIndex()],this.getVideoController().getVideoID(),this.getVideoController().getAdClientToken());c('CSS').addClass(ba,"uiContextualLayerParent");c('CSS').addClass(ba,"_57bj");c('Arbiter').inform(c('StreamingReactionsTrayEvents').ShowChannelViewDetails);this.$VideoChannelInteraction56();this.$VideoChannelInteraction59();};aa.prototype.$VideoChannelInteraction92=function(ba,ca,da){'use strict';this.$VideoChannelInteraction23&&this.$VideoChannelInteraction23.abandon();var ea=c('DOM').scry(ba,"._260p")[0];if(!ea){var fa=c('DOM').scry(ba,"._5pc9"),ga=fa[0];if(!ga||!ga.childNodes||!ga.childNodes.length)ea=c('DOM').scry(ba,"._3upq")[0];}var ha=this.$VideoChannelInteraction8.getVideoChainingCaller(),ia=c('XVideoChannelViewDetailsAsyncController').getURIBuilder().setInt('video_id',ca).setEnum('caller',ha);if(da)ia.setString('ad_impression_token',da);var ja=this.getVideoController().getOption('VideoWithLiveBroadcast','isLive');if(u&&!ja)c('CSS').addClass(ba,"_uaz");if(ea){this.$VideoChannelInteraction23=new (c('AsyncRequest'))().setRelativeTo(ea).setURI(ia.getURI()).setAllowCrossPageTransition(true).setMethod('GET').setReadOnly(true).setHandler(function(){this.$VideoChannelInteraction23=null;}.bind(this)).setErrorHandler(function(){this.$VideoChannelInteraction23=null;}.bind(this));this.$VideoChannelInteraction23.send();}};aa.prototype.$VideoChannelInteraction114=function(event){'use strict';var ba=this.$VideoChannelInteraction76().getRoot();this.$VideoChannelInteraction81(c('VideoChannelLoggerEventTargets').HIDE_SIDE_PANE);this.$VideoChannelInteraction23&&this.$VideoChannelInteraction23.abandon();this.$VideoChannelInteraction14=false;c('CSS').removeClass(ba,"uiContextualLayerParent");c('CSS').removeClass(ba,"_57bj");var ca=v?this.$VideoChannelInteraction55():this.$VideoChannelInteraction11.children,da=ca[this.getCurrentAbsoluteIndex()];c('CSS').removeClass(da,"_uaz");c('Arbiter').inform(c('StreamingReactionsTrayEvents').HideChannelViewDetails);this.$VideoChannelInteraction59();this.$VideoChannelInteraction56();event&&event.preventDefault();};aa.prototype.$VideoChannelInteraction108=function(){'use strict';var ba=this.$VideoChannelInteraction76().getRoot();if(this.$VideoChannelInteraction18){c('CSS').removeClass(ba,"_r7e");}else c('CSS').addClass(ba,"_r7e");this.$VideoChannelInteraction18=!this.$VideoChannelInteraction18;};aa.prototype.registerShowDetailsLink=function(ba){'use strict';c('Event').listen(ba,'click',function(){var ca=aa.getInteraction();ca||k(0);ca.$VideoChannelInteraction113();});};aa.prototype.registerHideDetailsLink=function(ba){'use strict';c('Event').listen(ba,'click',function(){var ca=aa.getInteraction();ca||k(0);ca.$VideoChannelInteraction114();});};aa.prototype.$VideoChannelInteraction57=function(){'use strict';if(this.$VideoChannelInteraction14){this.$VideoChannelInteraction114();}else this.$VideoChannelInteraction113();};aa.prototype.registerLiveReactionsInput=function(ba,ca,da){'use strict';this.$VideoChannelInteraction37=ba;this.$VideoChannelInteraction38=ca;this.$VideoChannelInteraction39=da;this.$VideoChannelInteraction63();};aa.prototype.registerShareSheetVisibility=function(ba){'use strict';var ca=aa.getInteraction();ca||k(0);ca.$VideoChannelInteraction32=ba;ca.$VideoChannelInteraction56();};aa.prototype.registerHideFeedback=function(ba,ca){'use strict';var da=aa.getInteraction();da||k(0);var ea=da.getVideoController();if(ba.toString()===ea.getVideoID()){da.$VideoChannelInteraction115(ea,ca);this.$VideoChannelInteraction116(ea);}else da.$VideoChannelInteraction21.set(ba.toString(),ca);};aa.prototype.registerHideReactionsInputBar=function(ba,ca){'use strict';var da=aa.getInteraction();da||k(0);var ea=da.getVideoController();if(ba.toString()===ea.getVideoID()){da.$VideoChannelInteraction115(ea,ca);}else da.$VideoChannelInteraction22.set(ba.toString(),ca);};aa.prototype.$VideoChannelInteraction115=function(ba,ca){'use strict';if(!ca)return;if(this.$VideoChannelInteraction117(ba))c('CSS').hide(ca);this.$VideoChannelInteraction7.addSubscriptions(ba.addListener('commercialBreak/hideUFI',function(){c('CSS').hide(ca);}),ba.addListener('commercialBreak/showUFI',function(){c('CSS').show(ca);}));};aa.prototype.$VideoChannelInteraction117=function(ba){'use strict';var ca=ba.getOption('VideoWithCommercialBreak','controller');if(!ca)return false;return ca.getIsCommercialBreakOngoing();};aa.prototype.$VideoChannelInteraction116=function(ba){'use strict';var ca=ba&&ba.getOption('VideoWithInstreamVideo','controller'),da=ca&&ca.getConfig();if(!da||da.isBroadcast)return;if(this.$VideoChannelInteraction117(ba))this.$VideoChannelInteraction118(ba,true);this.$VideoChannelInteraction7.addSubscriptions(ba.addListener('commercialBreak/hideUFI',function(){this.$VideoChannelInteraction118(ba,true);}.bind(this)),ba.addListener('commercialBreak/showUFI',function(){this.$VideoChannelInteraction118(ba,false);}.bind(this)));};aa.prototype.$VideoChannelInteraction118=function(ba,ca){'use strict';this.$VideoChannelInteraction100(!ca);var da=this.getCurrentAbsoluteIndex(),ea=this.$VideoChannelInteraction98(),fa=ea[da];if(fa){var ga=c('DOM').find(fa,"._4mz_");if(ga){c('ReactDOM').unmountComponentAtNode(ga);if(ca&&ba){c('CSS').addClass(fa,"_4mzp");c('ReactDOM').render(c('React').createElement(c('CommercialBreakChannelThumbnailOverlay.react'),{videoPlayerController:ba}),ga);}else c('CSS').removeClass(fa,"_4mzp");}}};aa.prototype.registerVideoController=function(ba){'use strict';this.$VideoChannelInteraction102(ba);this.$VideoChannelInteraction103(ba);var ca=c('VideoChannelController').getVideoChannel();if(!ca)return;ba.updateSource(c('VideoPlayerLoggerSource').CHANNEL);ca.registerVideoController(ba);if(this.$VideoChannelInteraction19.has(ba))return;var da=this.findStoryForVideoController(ba);if(da){this.$VideoChannelInteraction19.set(ba,da);this.$VideoChannelInteraction20.set(da.id,ba);}this.$VideoChannelInteraction116(ba);var ea=ba.getVideoID();if(this.$VideoChannelInteraction21.has(ea))this.$VideoChannelInteraction115(ba,this.$VideoChannelInteraction21.get(ea));if(this.$VideoChannelInteraction22.has(ea))this.$VideoChannelInteraction115(ba,this.$VideoChannelInteraction22.get(ea));};aa.prototype.findStoryForVideoController=function(ba){'use strict';for(var ca=0;ca<this.$VideoChannelInteraction11.children.length;++ca){var da=this.$VideoChannelInteraction11.children[ca];if(da.contains(ba.getRootNode()))return da;}return null;};aa.prototype.getVideoControllerForStory=function(ba){'use strict';return this.$VideoChannelInteraction20.get(ba.id);};aa.prototype.getVideoControllerForStoryID=function(ba){'use strict';return this.$VideoChannelInteraction20.get(ba);};aa.prototype.getStoryForVideoController=function(ba){'use strict';return this.$VideoChannelInteraction19.get(ba);};aa.prototype.getStoryIndex=function(ba){'use strict';var ca=v?this.$VideoChannelInteraction55():this.$VideoChannelInteraction11.children;for(var da=0;da<ca.length;++da)if(ba===ca[da])return da;return -1;};aa.prototype.isInDetailsMode=function(){'use strict';return this.$VideoChannelInteraction14;};aa.getInteraction=function(){'use strict';var ba=c('VideoChannelController').getVideoChannel();if(!ba)return null;var ca=ba.getInteraction();if(!ca){ca=new aa(ba);ba.setInteraction(ca);}return ca;};aa.setTitle=function(ba,ca,da){'use strict';var ea=aa.getInteraction();if(!ea)return;ea.setTitle(ba,ca,da);};aa.setFirstStory=function(ba,ca,da){'use strict';var ea=aa.getInteraction();if(!ea)return;ea.setFirstStory(ba,ca,da);};aa.registerShowDetailsLink=function(ba){'use strict';var ca=aa.getInteraction();if(!ca){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var da=aa.getInteraction();da||k(0);da.registerShowDetailsLink(ba);});return;}ca.registerShowDetailsLink(ba);};aa.registerHideDetailsLink=function(ba){'use strict';var ca=aa.getInteraction();if(!ca){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var da=aa.getInteraction();da||k(0);da.registerHideDetailsLink(ba);});return;}ca.registerHideDetailsLink(ba);};aa.registerLiveReactionsInput=function(ba,ca,da){'use strict';var ea=aa.getInteraction();if(!ea){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var fa=aa.getInteraction();fa||k(0);fa.registerLiveReactionsInput(ba,ca,da);});return;}ea.registerLiveReactionsInput(ba,ca,da);};aa.registerShareSheetVisibility=function(ba){'use strict';var ca=aa.getInteraction();if(!ca){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var da=aa.getInteraction();da||k(0);da.registerShareSheetVisibility(ba);});return;}ca.registerShareSheetVisibility(ba);};aa.registerHideFeedback=function(ba,ca){'use strict';var da=aa.getInteraction();if(!da)return;da.registerHideFeedback(ba,ca);};aa.registerHideReactionsInputBar=function(ba,ca){'use strict';var da=aa.getInteraction();if(!da)return;da.registerHideReactionsInputBar(ba,ca);};aa.registerVideoController=function(ba){'use strict';var ca=aa.getInteraction();if(!ca)return;ca.registerVideoController(ba);};aa.registerAspectRatio=function(ba,ca){'use strict';x[ba]=ca;var da=aa.getInteraction();if(s&&!u&&da&&da.$VideoChannelInteraction19.size){var ea=da.getCurrentAbsoluteIndex(),fa=da.$VideoChannelInteraction11,ga=da.getVideoControllerForStory(fa.children[ea]);if(z!==ca&&ga&&ga.getVideoID()===ba)da.$VideoChannelInteraction90();}};f.exports=aa;}),null);
__d('VideoChannelShareButton.react',['React','UFIShareNowMenuBootloader.react','VideoChannelInteraction'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';var k=this.props,l=k.endpoint,m=k.endpointData,n=function p(){c('VideoChannelInteraction').registerShareSheetVisibility(true);},o=function p(){c('VideoChannelInteraction').registerShareSheetVisibility(false);};return c('React').createElement(c('UFIShareNowMenuBootloader.react'),{endpoint:l,endpointData:m,onShow:n,onHide:o});};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoChainingToken',['Base64'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$VideoChainingToken1=i;}h.encode=function(i){'use strict';return new h(c('Base64').encode(JSON.stringify(i)));};h.prototype.decode=function(){'use strict';return JSON.parse(c('Base64').decode(this.$VideoChainingToken1));};f.exports=h;}),null);
__d('VideoWithImmediateAbortLoading',[],(function a(b,c,d,e,f,g){function h(){'use strict';}h.prototype.enable=function(i){'use strict';this.$VideoWithImmediateAbortLoading1=i;if(i.getStreamingFormat()==='dash'){i.abortLoading();i.registerOption('VideoWithImmediateAbortLoading','isWithImmediateAbortLoading');}};h.prototype.disable=function(){'use strict';if(this.$VideoWithImmediateAbortLoading1.hasOption('VideoWithImmediateAbortLoading','isWithImmediateAbortLoading'))this.$VideoWithImmediateAbortLoading1.unregisterOption('VideoWithImmediateAbortLoading','isWithImmediateAbortLoading');this.$VideoWithImmediateAbortLoading1=null;};f.exports=h;}),null);